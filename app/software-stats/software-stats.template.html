<div class="container">
    <div class="row">
        <div class="page-header col-xs-8 col-xs-offset-2">
            <h1>Statistiche Software</h1>
        </div>
    </div>

    <div class="row">
        <div class="col-xs-2 col-xs-offset-2" ng-if="$ctrl.profilo == 'ADMINISTRATOR'">
            <select class="form-control" ng-model="$ctrl.societa" ng-change="$ctrl.getSoftwareStats()">
                <option value="">Tutte le Societ√†</option>
                <option ng-repeat="soc in $ctrl.listaSoc" value="{{soc.id}}">{{soc.nome}}</option>
            </select>
        </div>
        <div class="col-xs-2" ng-class="{'col-xs-offset-2': $ctrl.profilo == 'ALL_USERS'}">
            <select class="form-control" ng-model="$ctrl.dipendente" ng-change="$ctrl.getSoftwareStats()">
                <option value="">Tutti gli Impiegati</option>
                <option value="1">Dipendenti</option>
                <option value="0">Non Dipendenti</option>
            </select>
        </div>

        <div class="row">
            <div class="col-xs-3">
                <select class="form-control" ng-model="$ctrl.colonna" ng-change="$ctrl.getSoftwareStats()">
                    <option value="sistema_operativo">Sistema Operativo</option>
                    <option value="office_suite">Office Suite</option>
                    <option value="browser">Browser</option>
                    <option value="antivirus">Antivirus</option>
                    <option value="software_comunicazione">Comunicazione</option>
                    <option value="software_crittografia">Crittografia</option>
                </select>                
            </div>
        </div>
    </div>

    <div class="col-xs-3 col-xs-offset-2" id="tableContainer">
        <p>Totale Impiegati considerati: {{$ctrl.impiegati}}</p>
        <table class="table table-striped table-bordered">
            <thead>
                <tr>
                    <th ng-bind="$ctrl.getColonnaLabel()"></th>
                    <th>Percentuale</th>
                    <th>Count</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="stat in $ctrl.statistiche">
                    <td ng-bind="stat.name"></td>
                    <td><span ng-bind="stat.percent | number: 1"></span>%</td>
                    <td ng-bind="stat.count"></td>
                </tr>
            </tbody>
        </table>
    </div>

    <div id="tortaSoftware" class="col-xs-6"></div>
</div>
